---
---Copyright (C) 2022-2025 by Josef Friedrich <josef@friedrich.rocks>
------------------------------------------------------------------------
---
---This program is free software: you can redistribute it and/or modify it
---under the terms of the GNU General Public License as published by the
---Free Software Foundation, either version 2 of the License, or (at your
---option) any later version.
---
---This program is distributed in the hope that it will be useful, but
---WITHOUT ANY WARRANTY; without even the implied warranty of
---MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
---Public License for more details.
---
---You should have received a copy of the GNU General Public License along
---with this program. If not, see <https://www.gnu.org/licenses/>.
---@meta

_N._4_2_7_binary_input_from_files_with_fio = "page 66"

---
---# Binary input from files with `fio`
---
---There is a whole set of helpers for reading numbers and strings from a file:
---`fio.readcardinal1`, `fio.readcardinal2`, `fio.readcardinal3`, `fio.readcardinal4`, `fio.readcardinaltable`, `fio.readinteger1`, `fio.readinteger2`,
---`fio.readinteger3`, `fio.readinteger4`, `fio.readintegertable`, `fio.readfixed2`, `fio.readfixed4`,
---`fio.read2dot14`, `fio.setposition`, `fio.getposition`, `fio.skipposition`, `fio.readbytes`, `fio.readbytetable`. They work on normal *Lua* file handles.
---
---This library provides a set of functions for reading numbers from a file and
---in addition to the regular `io` library functions.
---
---|                            |                                     |
---|----------------------------|-------------------------------------|
---| `readcardinal1(f)`         | a 1 byte unsigned integer           |
---| `readcardinal2(f)`         | a 2 byte unsigned integer           |
---| `readcardinal3(f)`         | a 3 byte unsigned integer           |
---| `readcardinal4(f)`         | a 4 byte unsigned integer           |
---| `readcardinaltable(f,n,b)` | `n` cardinals of `b` bytes          |
---| `readinteger1(f)`          | a 1 byte signed integer             |
---| `readinteger2(f)`          | a 2 byte signed integer             |
---| `readinteger3(f)`          | a 3 byte signed integer             |
---| `readinteger4(f)`          | a 4 byte signed integer             |
---| `readintegertable(f,n,b)`  | `n` integers of `b` bytes           |
---| `readfixed2(f)`            | a 2 byte float (used in font files) |
---| `readfixed4(f)`            | a 4 byte float (used in font files) |
---| `read2dot14(f)`            | a 2 byte float (used in font files) |
---| `setposition(f,p)`         | goto position `p`                   |
---| `getposition(f)`           | get the current position            |
---| `skipposition(f,n)`        | skip `n` positions                  |
---| `readbytes(f,n)`           | `n` bytes                           |
---| `readbytetable(f,n)`       | `n` bytes                           |
---
---There are eight additional little endian variants for the `cardinal[1-4]`
---and `integer[1-4]` readers: `cardinal[1-4]le` and `integer[1-4]le`.
---
--- https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
fio = {}

---
---Read a 1 byte unsigned integer (8-bit) from a file.
---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(fio.readcardinal1(f) == 116)
---  -- e: decimal=101 hexadecimal=65 binary=01100101
---  assert(fio.readcardinal1(f) == 101)
---  -- s: decimal=115 hexadecimal=73 binary=01110011
---  assert(fio.readcardinal1(f) == 115)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(fio.readcardinal1(f) == 116)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L114-L122](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L114-L122)
---
---@param file file* # A file handle.
---
---@return integer # A 1 byte unsigned integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal1(file) end

---
---Read a 2 byte unsigned integer (16-bit) from a file.
---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  -- t.e: decimal=29797 hexadecimal=74.65 binary=01110100.01100101
---  assert(fio.readcardinal2(f) == 29797)
---  -- s.t: decimal=29556 hexadecimal=73.74 binary=01110011.01110100
---  assert(fio.readcardinal2(f) == 29556)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L137-L147](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L137-L147)
---
---@param file file* # A file handle.
---
---@return integer # A 2 byte unsigned integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal2(file) end

---
---Read a 3 byte unsigned integer (24-bit) from a file.
---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("luatex")
---  fio.setposition(f, 0)
---  -- l.u.a: decimal=29797 hexadecimal=6C.75.61 binary=01101100.01110101.01100001
---  assert(fio.readcardinal3(f) == 7107937)
---  -- t.e.x: decimal=29556 hexadecimal=74.65.78 binary=01110100.01100101.01111000
---  assert(fio.readcardinal3(f) == 7628152)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L187-L198](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L187-L198)
---
---@param file file* # A file handle.
---
---@return integer # A 3 byte unsigned integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal3(file) end

---
---Read a 4 byte unsigned integer (32-bit) from a file.
---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  -- t.e.s.t:
---  -- decimal=1952805748
---  -- hexadecimal=74.65.73.74
---  -- binary=01110100.01100101.01110011.01110100
---  assert(fio.readcardinal4(f) == 1952805748)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L241-L253](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L241-L253)
---
---@param file file* # A file handle.
---
---@return integer # A 4 byte unsigned integer.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal4(file) end

---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L299-363](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L299-363)
---
---@param file file* # A file handle.
---@param n integer
---@param b integer
---
---@return table<integer, integer>
function fio.readcardinaltable(file, n, b) end

---
---Read a 1 byte unsigned little endian integer (8-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L137-L147](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L137-L147)
---
---@param file file* # A file handle.
---
---@return integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal1le(file) end

---
---Read a 2 byte unsigned little endian integer (16-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L148-L158](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L148-L158)
---
---little endian variant
---
---@param file file* # A file handle.
---
---@return integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal2le(file) end

---
---Read a 3 byte unsigned little endian integer (24-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L199-L210](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L199-L210)
---
---little endian variant
---
---@param file file* # A file handle.
---
---@return integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal3le(file) end

---
---Read a 4 byte unsigned little endian integer (32-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L254-L266](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L254-L266)
---
---little endian variant
---
---@param file file* # A file handle.
---
---@return integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readcardinal4le(file) end

---
---Read a 1 byte signed integer (8-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L432-L442](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L432-L442)
---
---@param file file* # A file handle.
---
---@return integer # A 1 byte signed integer.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger1(file) end

---
---Read a 2 byte signed integer (16-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L460-L471](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L460-L471)
---
---@param file file* # A file handle.
---
---@return integer # A 2 byte signed integer.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger2(file) end

---
---Read a 3 byte signed integer (24-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L518-530](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L518-530)
---
---@param file file* # A file handle.
---
---@return integer # A 3 byte signed integer.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger3(file) end

---
---Read a 4 byte signed integer (32-bit) from a file.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L580-593](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L580-593)
---
---@param file file* # A file handle.
---
---@return integer # A 4 byte signed integer.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger4(file) end

---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L472-483](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L472-483)
---
---@param file file* # A file handle.
---@param n integer
---@param b integer
---
---@return table<integer, integer>
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readintegertable(file, n, b) end


---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(fio.readinteger1le(f) == 116)
---  -- e: decimal=101 hexadecimal=65 binary=01100101
---  assert(fio.readinteger1le(f) == 101)
---  -- s: decimal=115 hexadecimal=73 binary=01110011
---  assert(fio.readinteger1le(f) == 115)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(fio.readinteger1le(f) == 116)
---  f:close()
---end
---```
---
---
---* Corresponding C source code: [liolibext.c#L432-L442](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L432-L442)
---
---little endian variant
---
---@param file file* # A file handle.
---
---@return integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger1le(file) end


---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  assert(fio.readinteger2le(f) == 25972)
---  assert(fio.readinteger2le(f) == 29811)
---  assert(fio.readinteger2le(f) == nil)
---  f:close()
---end
---```
---
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L472-483](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L472-483)
---
---little endian variant
---
---@param file file* # A file handle.
---
---@return integer|nil
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger2le(file) end


---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  assert(fio.readinteger3le(f) == 7562612)
---  assert(fio.readinteger3le(f) == nil)
---  f:close()
---end
---```
---
---
---little endian variant
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L531-543](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L531-543)
---
---@param file file* # A file handle.
---
---@return integer|nil
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger3le(file) end


---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  assert(fio.readinteger4le(f) == 1953719668)
---  assert(fio.readinteger4le(f) == nil)
---  f:close()
---end
---```
---
---
---little endian variant
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L594-607](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L594-607)
---
---@param file file* # A file handle.
---
---@return integer|nil
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readinteger4le(file) end

---
---Read a 2 byte float (used in font files).
---
---
---
---__Example:__
---
---```lua
---local function compare_numbers(a, b, epsilon)
---  epsilon = epsilon or 1e-6
---  return a == b or math.abs(a - b) < epsilon
---end
---
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  assert(compare_numbers(fio.readfixed2(f), 116.39453125))
---  assert(compare_numbers(fio.readfixed2(f), 115.453125))
---  assert(fio.readfixed2(f) == nil)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L802-813](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L802-813)
---
---@param file file* # A file handle.
---
---@return number|nil # a 2 byte float (used in font files)
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readfixed2(file) end

---
---Read a 4 byte float (used in font files).
---
---
---__Example:__
---
---```lua
---local function compare_numbers(a, b, epsilon)
---  epsilon = epsilon or 1e-6
---  return a == b or math.abs(a - b) < epsilon
---end
---
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  assert(compare_numbers(fio.readfixed4(f), 29797.45098877))
---  assert(fio.readfixed4(f) == nil)
---  f:close()
---end
---```
---
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L830-843](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L830-843)
---
---@param file file* # A file handle.
---
---@return number|nil # a 4 byte float (used in font files)
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readfixed4(file) end

---
---Read a 2 byte float (used in font files).
---

---
---__Example:__
---
---```lua
---local function compare_numbers(a, b, epsilon)
---  epsilon = epsilon or 1e-6
---  return a == b or math.abs(a - b) < epsilon
---end
---
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  assert(compare_numbers(fio.read2dot14(f), 1.8186645507812))
---  fio.setposition(f, 1)
---  assert(compare_numbers(fio.read2dot14(f), 1.5851440429688))
---  fio.setposition(f, 2)
---  assert(compare_numbers(fio.read2dot14(f), 1.803955078125))
---  assert(sio.read2dot14("test", 4) == nil)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L862-874](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L862-874)
---* Corresponding fontforge C source code: [mem.c#L101-L107](https://github.com/fontforge/fontforge/blob/664b5db72e5591f40f3cc86bf1249d9c76fed82d/fontforge/mem.c#L101-L107)
---* Corresponding fontforge C source code: [ttf2eps.c#L418-L424](https://github.com/fontforge/fontforge/blob/664b5db72e5591f40f3cc86bf1249d9c76fed82d/contrib/fonttools/ttf2eps.c#L418-L424)
---
---@param file file* # A file handle.
---
---@return number|nil # a 2 byte float (used in font files)
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.read2dot14(file) end

---
---Goto position `p`.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L901-910](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L901-910)
---
---@param file file* # A file handle.
---@param p integer
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.setposition(file, p) end

---
---Get the current position.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L891-899](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L891-899)
---
---@param file file* # A file handle.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.getposition(file) end

---
---skip `n` positions.
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L912-921](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L912-921)
---
---@param file file* # A file handle.
---@param number integer # The number of bytes to be read.
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.skipposition(file, number) end

---
---Read `number` bytes.
---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  local b1, b2, b3, b4 = fio.readbytes(f, 4)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(b1 == 116)
---  -- e: decimal=101 hexadecimal=65 binary=01100101
---  assert(b2 == 101)
---  -- s: decimal=115 hexadecimal=73 binary=01110011
---  assert(b3 == 115)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(b4 == 116)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L967-980](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L967-980)
---
---@param file file* # A file handle.
---@param number integer # The number of bytes to be read.
---
---@return integer ...
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readbytes(file, number) end

---
---Read `number` bytes as a table.
---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("test")
---  fio.setposition(f, 0)
---  local t = fio.readbytetable(f, 4)
---  -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(t[1] == 116)
---  -- e: decimal=101 hexadecimal=65 binary=01100101
---  assert(t[2] == 101)
---  -- s: decimal=115 hexadecimal=73 binary=01110011
---  assert(t[3] == 115)
---    -- t: decimal=116 hexadecimal=74 binary=01110100
---  assert(t[4] == 116)
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L923-943](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L923-943)
---
---@param file file* # A file handle.
---@param number integer # The number of bytes to be read.
---
---@return integer[]
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readbytetable(file, number) end

---
---__Example:__
---
---```lua
---local f = io.open("tmp.txt", "w+")
---if f then
---  f:write("line1\nline2\nline3\n")
---  fio.setposition(f, 0)
---  assert(fio.readline(f) == "line1")
---  assert(fio.readline(f) == "line2")
---  assert(fio.readline(f) == "line3")
---  f:close()
---end
---```
---
---__Reference:__
---
---* Corresponding C source code: [liolibext.c#L1003-1032](https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/liolibext.c#L1003-1032)
---
---@param file file* # A file handle.
---
---@return string
---
---üò± [Types](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/fio.lua) incomplete or incorrect? üôè [Please contribute!](https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls)
function fio.readline(file) end
